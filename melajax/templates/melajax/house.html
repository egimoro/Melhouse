{% extends 'base.html' %}

{% load static %}

{% block content %}
    <h1>Houses</h1>
    
    <p><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Add a House</button></p>
    <p><button id="getHouses">Get Houses</button></p>
    

    <table class="table" id="houseTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Seller</th>
                <th>Rooms</th>
                <th>House Type</th>
                <th>Price</th>
                <th>Method</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
           
        </tbody>
    </table>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">House Form</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form method="POST">
                  {% csrf_token %}
               <div class="form-group">
                {% for field in form %}   
                <div class="fieldWrapper">
                    {{ field.errors }}
                    {{ field.label_tag }} {{ field }}
                    {% if field.help_text %}
                    <p class="help">{{ field.help_text|safe }}</p>
                    {% endif %}
                </div>
            {% endfor %}
                   
               </div>   
           
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary" id="btnAdd" >Add a house</button>
              <button type="button" class="btn btn-warning" id="btnUpdate"
                style="display: none;" onclick="Update()">Update</button>
            </div>
          </div>
        </div>
      </div>
   
<span><a href="{% url 'start' %}">Back to start</a></span>
{% endblock %}